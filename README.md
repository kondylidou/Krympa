# Krympa

This repository contains **Krympa**, a tool for minimizing equational proofs
by combining subproofs generated by automated theorem provers (e.g. Vampire and
Twee). It also includes a benchmarking setup for large-scale experimental
evaluation.

---

## Requirements

- Rust (stable toolchain) with cargo
- OCaml with dune
- A Unix-like environment (Linux or macOS recommended)

---

## Building the Binaries

Build the required binaries using Cargo:

```bash
cargo build --bin benchmarking
cargo build --bin frankenstein
```

After building, move the binaries to the expected locations:

```bash
mv target/debug/benchmarking ./benchmarking_binary
mv target/debug/frankenstein ./frankenstein
```

These paths are assumed by the benchmarking scripts.

---

## Running the Tool

All execution is performed from the `shell` directory:

```bash
cd shell
```

### Run the Full Benchmark Suite

To run the complete benchmarking pipeline:

```bash
./run
```

This will run the tool on the full benchmark set and collect proof-minimization
results.

---

### Run on a Single Problem

To run the tool on a single input file:

```bash
./run_one <path-to-problem-file>
```

Example:

```bash
./run_one benchmarks/input7/Equation650_implies_Equation448.p
```

This mode is useful for debugging or inspecting individual minimized proofs.

---

## Summary Script

A Python script `summarize.py` is included in the `python` directory to quickly
summarize the benchmark logs.

### Usage

```bash
python summarize.py /path/to/logs
```

---

## Lean Translation Script

A Python script `tolean.py` is included in the `python` directory to
automatically generate a **Lean translation** of the minimized proof.

### Usage

```bash
python tolean.py /path/to/input_proof_file
```

---

## Notes

- The `run` script performs full benchmarking and may take a long time to
  complete.
- The tool assumes the binaries are named and located exactly as described
  above.
- Output files (logs, minimized proofs, etc) are written to directories created
  by the scripts.

---

## Contributing

If you want to propose changes, fixes, or new features:

1. Open an issue describing your suggestion or bug.
2. Submit a pull request referencing the issue.
3. All contributions will be reviewed before merging.

Direct forks or redistribution of modified versions are not allowed.

